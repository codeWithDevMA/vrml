#VRML V2.0 utf8
#this link for ressource 
#https://tecfa.unige.ch/guides/vrml/sig-graph-tutorial/slides/mt0000.htm


WorldInfo {
   title "virtuel city with Traffic light system"
}
NavigationInfo {
   type "WALK"
}
Background {
	skyAngle [ 1.2 1.57]
skyColor [0 0 1, 0 0 0.6, 1 0 0]
groundColor [0.5 0.5 0.0]
backUrl "textures/sunset_back.png"
rightUrl "textures/sunset_right.png"
leftUrl "textures/sunset_left.png"
frontUrl "textures/sunset_front.png"
topUrl "textures/sunset_top.png"
bottomUrl "textures/sunset_bottom.png"
}
Viewpoint {
   position -6 2 15
   orientation 1 0 0 -0.2
   description "View from eyelevel"
}
Viewpoint {
   position  2.0 2.0 0.0
   orientation 0 1 0 0.785
   description "View of the lights"
}
DirectionalLight {
   on         TRUE
   intensity  .5
   color      1.0 1.0 1.0  
   ambientIntensity 1.0
   direction -.00327 -.83034 .55724
} ,
Group {
   children [
	  
      Inline {
         url "Ground.wrl"
      },
      Transform {
          translation 0.0 0.0 8.0
          children [
               Inline {
                  url "Trafficlight1.wrl"
               }
          ]
      },
      Transform {
          translation -19 -2.5  13.0
	  rotation    0.0 1.0  0.0 3.14
             children [
               Inline {
                  url "mosque.wrl"
               }
             ]
      },
      Transform {
          translation 0.0 0.0  8.0
	  rotation    0.0 1.0  0.0 3.14
             children [
               Inline {
                  url "Trafficlight1.wrl"
               }
             ]
      },
      Transform {
          translation -8.0 0.0 8.0
          children [
               Inline {
                  url "Trafficlight1.wrl"
               }
          ]
      },
      Transform {
          translation 0.0 0.0  -8.0
	  rotation    0.0 1.0  0.0 3.14
             children [
               Inline {
                  url "Trafficlight1.wrl"
               }
             ]
      },
      Transform {
          translation 0.0 0.0 -8.0
          children [
               Inline {
                  url "Trafficlight1.wrl"
               }
          ]
      },
      Transform {
          translation 8.0 0.0  -8.0
	  rotation    0.0 1.0  0.0 3.14
             children [
               Inline {
                  url "Trafficlight1.wrl"
               }
             ]
      },
      Transform {
          translation 11.0 0.0  6.0
          rotation    0.0 1.0   0.0 1.57
             children [
                Inline {
                   url "Trafficlight2.wrl"
                }
             ]
      },
      Transform {
          translation -11.0 0.0 -6.0
          rotation     0.0 1.0  0.0 -1.57
             children [
                Inline {
                   url "Trafficlight2.wrl"
                }
             ]
      },	
      Transform {
          translation -11.0 0.0 -6.0
          rotation     0.0 1.0  0.0 1.57
             children [
                Inline {
                   url "Trafficlight2.wrl"
                }
             ]
      },

	  Transform	{
		   translation 25.0 0.0 -60.0
		   rotation     0.0 1.0  0.0 1.57
             children [
                Inline {
                   url "final_trees.wrl"
                }
             ]
	  
	  },
	  Transform	{
		   translation 25.0 0.0 -80.0
		   rotation     0.0 1.0  0.0 1.57
             children [
                Inline {
                   url "RandomTrees.wrl"
                }
             ]
	  
	  }

	  ,
	  Transform	{
		   translation 29.0 0.0 -66.0
		   rotation     0.0 1.0  0.0 1.57
             children [
                Inline {
                   url "RandomTrees.wrl"
                }
             ]
	  
	  }
	  ,
	  Transform	{
		   translation 25.0 0.0 -70.0
		   rotation     0.0 1.0  0.0 1.57
             children [
                Inline {
                   url "RandomTrees.wrl"
                }
             ]
	  
	  }
	  ,
	  Transform	{
		   translation 17.0 -1 30.0
		   scale 0.5 0.5 0.5 
             children [
                Inline {
                   url "building4.wrl"
                }
             ]
	  
	  }
,
Transform	{
		   translation -30 -1 -15
		   scale 0.5 0.5 0.5 
             children [
                Inline {
                   url "biulding2.wrl"
                }
             ]
	  
	  },
Transform	{
		   translation -30 -1 -25
		   scale 0.5 0.5 0.5 
             children [
                Inline {
                   url "biulding2.wrl"
                }
             ]
	  
	  },
Transform	{
		   translation -30 -1 -35
		   scale 0.5 0.5 0.5 
             children [
                Inline {
                   url "biulding2.wrl"
                }
             ]
	  
	  },
     Transform	{
		   translation -30 -1 -45
		   scale 0.5 0.5 0.5 
             children [
                Inline {
                   url "biulding2.wrl"
                }
             ]
	  
	  },
      Transform	{
		   translation -30 -1 -55
		   scale 0.5 0.5 0.5 
             children [
                Inline {
                   url "biulding2.wrl"
                }
             ]
	  
	  },
     Transform	{
		   translation -30 -1 -65
		   scale 0.5 0.5 0.5 
             children [
                Inline {
                   url "biulding2.wrl"
                }
             ]
	  
	  },

     Transform	{
		   translation -30 -1 -75
		   scale 0.5 0.5 0.5 
             children [
                Inline {
                   url "biulding2.wrl"
                }
             ]
	  
	  },


Transform	{
		   translation -40 -1 -15
		   scale 0.5 0.5 0.5 
             children [
                Inline {
                   url "biulding2.wrl"
                }
             ]
	  
	  },
Transform	{
		   translation -40 -1 -25
		   scale 0.5 0.5 0.5 
             children [
                Inline {
                   url "biulding2.wrl"
                }
             ]
	  
	  },
Transform	{
		   translation -40 -1 -35
		   scale 0.5 0.5 0.5 
             children [
                Inline {
                   url "biulding2.wrl"
                }
             ]
	  
	  },
     Transform	{
		   translation -40 -1 -45
		   scale 0.5 0.5 0.5 
             children [
                Inline {
                   url "biulding2.wrl"
                }
             ]
	  
	  },
      Transform	{
		   translation -40 -1 -55
		   scale 0.5 0.5 0.5 
             children [
                Inline {
                   url "biulding2.wrl"
                }
             ]
	  
	  },
     Transform	{
		   translation -40 -1 -65
		   scale 0.5 0.5 0.5 
             children [
                Inline {
                   url "biulding2.wrl"
                }
             ]
	  
	  },

     Transform	{
		   translation -40 -1 -75
		   scale 0.5 0.5 0.5 
             children [
                Inline {
                   url "biulding2.wrl"
                }
             ]
	  
	  },



     ,Transform	{
		   translation 17.0 -1 40.0
		   scale 0.5 0.5 0.5 
             children [
                Inline {
                   url "building4.wrl"
                }
             ]
	  
	  }
     ,
	  Transform	{
		   translation 17.0 -1 20.0
		   scale 0.5 0.5 0.5 
             children [
                Inline {
                   url "building4.wrl"
                }
             ]
	  
	  }
	,
	   Transform	{
		   translation 15.0 -1 10.0
		   scale 0.5 0.5 0.5 
             children [
                Inline {
                   url "building4.wrl"
                }
             ]
	  
	  }
	,
	# Tree set at the right side
	  Transform	{
		   translation 25.0 0.0 30.0
		   rotation     0.0 1.0  0.0 1.57
             children [
                Inline {
                   url "RandomTrees.wrl"
                }
             ]
	  
	  }
	  	,
	  Transform	{
		   translation 20.0 0.0 30.0
		   rotation     0.0 1.0  0.0 1.57
             children [
                Inline {
                   url "RandomTrees.wrl"
                }
             ]
	  
	  },

DEF tr Transform {
   children [
	
                Inline {
                   url "plane.wrl"
                } 
             

	DEF pi PositionInterpolator {
		key [ 0.0, 0.2, 0.4, 0.8 ,1.0]
 keyValue [ -40 3 3, -20 3 3, 0 3 3,20 3 3,30 3 3]
	}

	DEF ts TimeSensor {
		cycleInterval 2
		loop TRUE

	}
   ]
}
,
   	  Transform	{
		   translation 20.0 0.0 40.0
		   rotation     0.0 1.0  0.0 3.57
             children [
                Inline {
                   url "RandomTrees.wrl"
                }
             ]
	  
	  }
	  ,
	  Transform	{
		   translation 20.0 0.0 35.0
		   rotation     0.0 1.0  0.0 1.57
             children [
                Inline {
                   url "RandomTrees.wrl"
                }
             ]
	  
	  }
	  ,
	  Transform	{
		   translation 20.0 0.0 38.0
		   rotation     0.0 1.0  0.0 2.57
             children [
                Inline {
                   url "RandomTrees.wrl"
                }
             ]
	  
	  }
	  	,
# Tree set at the left side
	  Transform	{
		   translation -40.0 0.0 30.0
		   rotation     0.0 1.0  0.0 1.57
             children [
                Inline {
                   url "RandomTrees.wrl"
                }
             ]
	  
	  }


	  	,
	  Transform	{
		   translation -45.0 0.0 50.0
		   rotation     0.0 1.0  0.0 1.57
             children [
                Inline {
                   url "RandomTrees.wrl"
                }
             ]
	  
	  }

	  	,
	  Transform	{
		   translation -43.0 0.0 40.0
		   rotation     0.0 1.0  0.0 1.57
             children [
                Inline {
                   url "RandomTrees.wrl"
                }
             ]
	  
	  }
	  	,
	  Transform	{
		   translation 10.0 0.0 7.2
		   rotation     0.0 0.0  0.0 1.57
		   scale .4 .4 .4
             children [
                Inline {
                   url "mhhedge.wrl"
                }
             ]
	  
	  }
	  	,

	  Transform	{
		   translation 10.0 0.2 25.2
		   rotation     0.0 0.0  0.0 1.57
		   scale .145 .145 .145
             children [
                Inline {
                   url "Busstop.wrl"
                }
             ]
	  
	  }

 ,
 Transform	{
		   translation -9.0 0.2 25.2
		   rotation     0.0 -1.0  0.0 3.15
		   scale .145 .145 .145
             children [
                Inline {
                   url "Busstop.wrl"
                }
             ]
	  
	  },
      Sound {
            source AudioClip {
               url "car-ignition-1.wav"
               loop TRUE
               startTime 1.0
               stopTime 0.0
            }
            minFront 5.0
            minBack  5.0
            maxFront 15.0
            maxBack  15.0
         }


	 ,

     DEF Particle1  Transform	 {
         translation 1.9 2 -6
		   rotation    -1.0 0.0  3.15 0.0 
		   scale 0.5 0.5 0.5
             children [
               
          Inline {
                   url "Car.wrl"
                }
             ]
	  },
# Animation clock
  DEF Clock TimeSensor {
      cycleInterval 4.0
      loop TRUE
  },
 
   DEF Position7 PositionInterpolator {
	key [ 0.0, 0.2, 0.4, 0.8 ,1.0]
 keyValue [ -40 1 3, -20 1 3, 0.5 1 3,20 1 3,30 1 3]
   },

   ]
}
ROUTE Clock.fraction_changed  TO Position7.set_fraction
ROUTE Position7.value_changed TO Particle1.set_translation  




ROUTE ts.fraction_changed TO pi.set_fraction
ROUTE pi.value_changed TO tr.set_translation
